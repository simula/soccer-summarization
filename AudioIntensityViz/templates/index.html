{#import videojs#}
<link href="https://vjs.zencdn.net/7.19.2/video-js.css" rel="stylesheet"/>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet"
      integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.12.1/css/jquery.dataTables.min.css">

{% include 'include/styles.css.html' %}

{#http://127.0.0.1:3000/vod/DYS3495_20190121.mp4/playlist.m3u8#}

<div class="container" style="padding: 10px">
    <div class="row">
        <div class="col-md-6">
            <div class="card">
                <div class="card-body">
                    <h5 class="card-title">Video</h5>
                    <div style="padding-left: 20px; padding-right: 35px">
                        <video id="video1"
                               class="video-js vjs-default-skin"
                               data-setup='{"fluid": true,  "inactivityTimeout": 0 }'
                               controls
                               preload="auto"
                               type="video/mp4">
                            <source src="{{ path }}">
                        </video>
                    </div>
                    <div id="chartContainer">
                        <div style="height: 0px">
                            <div class="hideOnClickChartTitle" style="top: -290px">
                                Audio
                            </div>
                            <div class="hideOnClickChartTitle" style="top: -140px">
                                Events
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>
        <div class="col-md-6">
            <div class="card">
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-4">
                            <h4 class="card-title">Current Event</h4>
                            <b>Time:</b> <span id="CurrentTime">0.0</span>
                            <br><b>Audio Intensity:</b> <span id="CurrentIntensity">0.0</span>

                        </div>
                        <div class="col-md-4">
                            <h4> Next Event</h4>
                            <div id="nearestScoreDiv">&nbsp &nbsp &nbsp Play the video.</div>
                        </div>
                        <div class="col-md-4">
                            <div style="text-align: center" class="h4">Average Audio Intensity:</div>
                            <div style="text-align: center; font-size: large" class="h4" id="AverageIntensity">
                                {{ average_audio_inten }}
                            </div>
                        </div>
                    </div>
                    <hr>
                    <h4 style="text-align: center">Game Events</h4>
                    {#                    <div id="audioScoreDiv" style="    max-height: 50vh;overflow: auto;"></div>#}
                    <table id="table0" class="display" style="width:100%">
                        <thead>
                        <tr>
                            <th>Time</th>
                            <th>Audio Intensity (Relative RMS)</th>
                            <th>Event</th>
                        </tr>
                        </thead>
                        <tbody id="audioScoreDiv">
                        </tbody>
                    </table>

                </div>
            </div>
        </div>
    </div>
</div>

{% include 'include/script.js.html' %}
